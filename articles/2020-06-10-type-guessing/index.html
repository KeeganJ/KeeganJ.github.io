<!DOCTYPE html>
<html lang=En>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="123456789101112// https://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/String.prototype.hashCode = function()&amp;#123;	var hash = 0;	if (this.length == 0) return ha">
<meta property="og:type" content="article">
<meta property="og:title" content="Type Guessing">
<meta property="og:url" content="https://keeganj.com/articles/2020-06-10-type-guessing/index.html">
<meta property="og:site_name" content="Keegan Jorgensen">
<meta property="og:description" content="123456789101112// https://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/String.prototype.hashCode = function()&amp;#123;	var hash = 0;	if (this.length == 0) return ha">
<meta property="og:locale" content="English">
<meta property="og:updated_time" content="2020-06-10T17:48:53.441Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Type Guessing">
<meta name="twitter:description" content="123456789101112// https://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/String.prototype.hashCode = function()&amp;#123;	var hash = 0;	if (this.length == 0) return ha">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Type Guessing</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <span id="menu">
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/articles/2020-06-10-hashCode/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
          <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
          <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
          <li><a class="icon" href="/articles/2019-02-26-Estimating-Large-Table-Counts-In-Postgres/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://keeganj.com/articles/2020-06-10-type-guessing/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://keeganj.com/articles/2020-06-10-type-guessing/&text=Type Guessing"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://keeganj.com/articles/2020-06-10-type-guessing/&is_video=false&description=Type Guessing"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Type Guessing&body=Check out this article: https://keeganj.com/articles/2020-06-10-type-guessing/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://keeganj.com/articles/2020-06-10-type-guessing/&name=Type Guessing&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#An-Example"><span class="toc-number">2.</span> <span class="toc-text">An Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-1-Change-the-extension"><span class="toc-number">3.</span> <span class="toc-text">Step 1: Change the extension</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-2-Function-signatures"><span class="toc-number">4.</span> <span class="toc-text">Step 2: Function signatures</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-3-Variable-declarations"><span class="toc-number">5.</span> <span class="toc-text">Step 3: Variable declarations</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        <header id="header">
  <a href="/">
  
    
      <div id="logo" style="background-image: url(/images/logo.svg);"></div>
    
  
    <div id="title">
      <h1>Keegan Jorgensen</h1>
    </div>
  </a>
  <div id="nav">
    <ul>
      <!-- <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li> -->
       
        <li><a href="/">Home</a></li>
       
        <li><a href="/about/">About</a></li>
       
        <li><a href="/archives/">Writing</a></li>
       
        <li><a href="https://github.com/KeeganJ">Github</a></li>
       
        <li><a href="/consulting/">Consulting</a></li>
       
        <li><a href="https://resume.keeganj.com">Resume</a></li>
       
        <li><a href="/search/">Search</a></li>
      
    </ul>
  </div>
</header>

        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Type Guessing
    </h1>



    <div class="meta">
      
    <div class="postdate">
      
        <time datetime="2020-06-10T14:00:07.000Z" itemprop="datePublished">2020-06-10</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.hashCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> hash = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">this</span>.length == <span class="number">0</span>) <span class="keyword">return</span> hash;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++) &#123;</span><br><span class="line">		char = <span class="keyword">this</span>.charCodeAt(i);</span><br><span class="line">		hash = ((hash&lt;&lt;<span class="number">5</span>)-hash)+char;</span><br><span class="line">		hash = hash &amp; hash; <span class="comment">// Convert to 32bit integer</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>I frequently find myself converting javascript files to typescript. Whether it’s modifying code snippets like the above or annotating entire JS codebases, adding types to existing JS code is an ongoing process.</p>
<p>Despite this, the most oft-repeated advice for <em>how</em> to perform a transition to typescript looks like this:</p>
<ol>
<li>Convert the file extension from <code>.js</code> to <code>.ts</code></li>
<li>Try to compile</li>
<li>Fix the compilation errors</li>
</ol>
<p>This is good advice for getting started, but is almost never the whole story in my experience. Simply changing the extension adds basic type inference, but rarely <em>enforces</em> any types effectively, which is most of the benefit gained from adding typescript in the first place.</p>
<p>On the flipside, adding types to every variable declaration and assignment is an enourmous chore, and rarely worth the effort. It can add clutter to previously readable code and takes no advantage of typescript’s wonderful type inference system. It also creates more work for both yourself and anyone else that plans on modifying the code later on.</p>
<p>Like most things in life, I’ve found the best cost/benefit tradeoff is somewhere between these two approaches. I find it best to add types in these three places:</p>
<ol>
<li>Function signitures (input and output types)</li>
<li>Returned objects from untyped libraries or method calls</li>
<li>Any time I use <code>let</code> rather than <code>const</code> for a variable declaration.</li>
</ol>
<p>I’ve loosely come to call this process “Type Guessing”, since the addition of these types to existing code (especially when it’s considered legacy) involves some educated guesswork.</p>
<p>Below I’ll summarize some of my experience in converting methods, files, and codebases to typescript. It’s probably not the most efficient process, but it is consistent, and brings more of the benefits of TS to your existing code than simply changing the file extension.</p>
<h2 id="An-Example"><a href="#An-Example" class="headerlink" title="An Example"></a>An Example</h2><p>As an example, we’ll use the following hash code function, courtesy of “wes” of the Manwe blog. It’s an excellent piece of code with some non-trivial types:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.hashCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> hash = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">this</span>.length == <span class="number">0</span>) <span class="keyword">return</span> hash;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++) &#123;</span><br><span class="line">		char = <span class="keyword">this</span>.charCodeAt(i);</span><br><span class="line">		hash = ((hash&lt;&lt;<span class="number">5</span>)-hash)+char;</span><br><span class="line">		hash = hash &amp; hash; <span class="comment">// Convert to 32bit integer</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Since we’re using this as an example, we’ll put this in its own file and make it the default exported function rather than an addition to the string prototype:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hashCode.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">hashCode</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> hash = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (str.length == <span class="number">0</span>) <span class="keyword">return</span> hash;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">		char = str.charCodeAt(i);</span><br><span class="line">		hash = ((hash&lt;&lt;<span class="number">5</span>)-hash)+char;</span><br><span class="line">		hash = hash &amp; hash;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Step-1-Change-the-extension"><a href="#Step-1-Change-the-extension" class="headerlink" title="Step 1: Change the extension"></a>Step 1: Change the extension</h2><p>As mentioned in the intro, the first step is to simply change the extension on the file. If you’re using an editor that compiles / checks your TS automatically, this is probably the point that you’ll start seeing those red underlines that let you know something is wrong. In this tutorial we’ll use the typescript compiler:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ tsc hashCode.ts </span><br><span class="line">hashCode.ts:4:7 - error TS2304: Cannot find name <span class="string">'i'</span>.</span><br><span class="line"></span><br><span class="line">4  <span class="keyword">for</span> (i = 0; i &lt; str.length; i++) &#123;</span><br><span class="line">        ~</span><br><span class="line"></span><br><span class="line">hashCode.ts:4:14 - error TS2304: Cannot find name <span class="string">'i'</span>.</span><br><span class="line"></span><br><span class="line">4  <span class="keyword">for</span> (i = 0; i &lt; str.length; i++) &#123;</span><br><span class="line">               ~</span><br><span class="line"></span><br><span class="line">hashCode.ts:4:30 - error TS2304: Cannot find name <span class="string">'i'</span>.</span><br><span class="line"></span><br><span class="line">4  <span class="keyword">for</span> (i = 0; i &lt; str.length; i++) &#123;</span><br><span class="line">                               ~</span><br><span class="line"></span><br><span class="line">hashCode.ts:5:3 - error TS2304: Cannot find name <span class="string">'char'</span>.</span><br><span class="line"></span><br><span class="line">5       char = str.charCodeAt(i);</span><br><span class="line">        ~~~~</span><br><span class="line"></span><br><span class="line">hashCode.ts:5:25 - error TS2304: Cannot find name <span class="string">'i'</span>.</span><br><span class="line"></span><br><span class="line">5       char = str.charCodeAt(i);</span><br><span class="line">                              ~</span><br><span class="line"></span><br><span class="line">hashCode.ts:6:27 - error TS2304: Cannot find name <span class="string">'char'</span>.</span><br><span class="line"></span><br><span class="line">6       <span class="built_in">hash</span> = ((<span class="built_in">hash</span>&lt;&lt;5)-<span class="built_in">hash</span>)+char;</span><br><span class="line">                                ~~~~</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Found 6 errors.</span><br></pre></td></tr></table></figure>
<p>All of these issues look like they stem from undeclared variables. We can fix this simply by adding a <code>let</code> in front of the <code>i</code> in the for loop and <code>const</code> in front of <code>char</code>:</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hashCode.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">hashCode</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> hash = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (str.length == <span class="number">0</span>) <span class="keyword">return</span> hash;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">		<span class="keyword">const</span> char = str.charCodeAt(i);</span><br><span class="line">		hash = ((hash&lt;&lt;<span class="number">5</span>)-hash)+char;</span><br><span class="line">		hash = hash &amp; hash; <span class="comment">// Convert to 32bit integer</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And now we’re building without errors! At this point we can already see some benefits:</p>
<ol>
<li>We can use this file in other typescript code without warnings.</li>
<li>The return type of the method is inferred to be <code>number</code>, since typescript can infer that from the existing statements.</li>
</ol>
<h2 id="Step-2-Function-signatures"><a href="#Step-2-Function-signatures" class="headerlink" title="Step 2: Function signatures"></a>Step 2: Function signatures</h2><p>The above types that we got without adding any annotations are the result of a process called “type inferece”. You can read more about it in the <a href="https://www.typescriptlang.org/docs/handbook/type-inference.html" target="_blank" rel="noopener">Typescript handbook</a>, but in short it’s the process the compiler uses to deduce the underlying types of variables by the ways in which they are assigned and used.</p>
<p>Here, Typescript was able to deduce that <code>hash</code> is a number because it knows the initial assignment on line 3 and the operations on lines 8 and 9 will result in a number. However, it <em>can’t</em> know what the type of the argument <code>str</code> is, because the caller of this function could pass anything to this function. This is where explicit typing comes in useful.</p>
<p>In general, I find spending the type to explicitly add types to function signatures is almost always worth the time and effort. It serves as a natural checkpoint for any potential problems in your call chain, and it ensures that any function in a typescript file starts with clearly defined types (rather than letting the <code>any</code> type cascade through the function implementation).</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hashCode.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">hashCode</span>(<span class="params">str: <span class="built_in">string</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> hash = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (str.length == <span class="number">0</span>) <span class="keyword">return</span> hash;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">		<span class="keyword">const</span> char = str.charCodeAt(i);</span><br><span class="line">		hash = ((hash&lt;&lt;<span class="number">5</span>)-hash)+char;</span><br><span class="line">		hash = hash &amp; hash; <span class="comment">// Convert to 32bit integer</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Step-3-Variable-declarations"><a href="#Step-3-Variable-declarations" class="headerlink" title="Step 3: Variable declarations"></a>Step 3: Variable declarations</h2><p>Even though <code>hash</code> is inferred to be a number, I believe it’s still worthwhile to explicitly declare it so. Because let variables can be reassigned, and because javascript has no problem with assigning a value with a different type to an existing variable, explicitly declaring the type adds a safety rail to any modifications you or another developer makes to this file in the future. Plus, because these declaration lines are typically short, this is a location where adding a type probably adds to the readability of your code rather than cluttering it.</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hashCode.ts</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">hashCode</span>(<span class="params">str: <span class="built_in">string</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> hash: <span class="built_in">number</span> = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">if</span> (str.length == <span class="number">0</span>) <span class="keyword">return</span> hash;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">		<span class="keyword">const</span> char = str.charCodeAt(i);</span><br><span class="line">		hash = ((hash&lt;&lt;<span class="number">5</span>)-hash)+char;</span><br><span class="line">		hash = hash &amp; hash; <span class="comment">// Convert to 32bit integer</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/KeeganJ">Github</a></li>
         
          <li><a href="/consulting/">Consulting</a></li>
         
          <li><a href="https://resume.keeganj.com">Resume</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#An-Example"><span class="toc-number">2.</span> <span class="toc-text">An Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-1-Change-the-extension"><span class="toc-number">3.</span> <span class="toc-text">Step 1: Change the extension</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-2-Function-signatures"><span class="toc-number">4.</span> <span class="toc-text">Step 2: Function signatures</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-3-Variable-declarations"><span class="toc-number">5.</span> <span class="toc-text">Step 3: Variable declarations</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://keeganj.com/articles/2020-06-10-type-guessing/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://keeganj.com/articles/2020-06-10-type-guessing/&text=Type Guessing"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://keeganj.com/articles/2020-06-10-type-guessing/&is_video=false&description=Type Guessing"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Type Guessing&body=Check out this article: https://keeganj.com/articles/2020-06-10-type-guessing/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://keeganj.com/articles/2020-06-10-type-guessing/&title=Type Guessing"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://keeganj.com/articles/2020-06-10-type-guessing/&name=Type Guessing&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 Keegan Jorgensen
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="https://github.com/KeeganJ">Github</a></li>
         
          <li><a href="/consulting/">Consulting</a></li>
         
          <li><a href="https://resume.keeganj.com">Resume</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
    <div class="print-location" style="display: none">
      https://keeganj.com/articles/2020-06-10-type-guessing/index.html
    </div>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
